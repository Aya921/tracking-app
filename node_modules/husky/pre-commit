#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "🔍 Running Flutter pre-commit checks..."

# 1️⃣ Install dependencies
echo "📦 Running flutter pub get..."
flutter pub get || { echo "❌ flutter pub get failed."; exit 1; }

# 2️⃣ Build runner
echo "🛠 Running build_runner..."
flutter pub run build_runner build --delete-conflicting-outputs || { echo "❌ build_runner failed."; exit 1; }

## 3️⃣ Linting
echo "📝 Running flutter analyze..."
flutter analyze || { echo "❌ flutter analyze failed."; exit 1; }

echo "✅ All pre-commit checks passed!"
